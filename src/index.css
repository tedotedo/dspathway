@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
@layer base {
  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-warm-50 text-warm-800 font-sans antialiased;
  }

  /* Focus styles for accessibility */
  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-primary-500;
  }

  /* Reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

/* Component classes */
@layer components {
  /* Cards */
  .card {
    @apply bg-white rounded-2xl border border-warm-200 p-5 shadow-card;
  }

  .card-hover {
    @apply transition-all duration-200 hover:shadow-card-hover hover:border-warm-300;
  }

  .card-interactive {
    @apply card card-hover cursor-pointer active:scale-[0.98];
  }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-semibold transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-card hover:shadow-card-hover hover:from-primary-600 hover:to-primary-700 focus-visible:ring-primary-500 active:scale-[0.98];
  }

  .btn-secondary {
    @apply btn bg-white text-warm-700 border border-warm-200 shadow-card hover:bg-warm-50 hover:border-warm-300 focus-visible:ring-warm-400;
  }

  .btn-accent {
    @apply btn bg-gradient-to-r from-accent-500 to-accent-600 text-white shadow-card hover:shadow-card-hover hover:from-accent-600 hover:to-accent-700 focus-visible:ring-accent-500;
  }

  .btn-support {
    @apply btn bg-gradient-to-r from-support-500 to-support-600 text-white shadow-card hover:shadow-card-hover hover:from-support-600 hover:to-support-700 focus-visible:ring-support-500;
  }

  .btn-emergency {
    @apply btn bg-gradient-to-r from-emergency-500 to-emergency-600 text-white shadow-card hover:shadow-card-hover hover:from-emergency-600 hover:to-emergency-700 focus-visible:ring-emergency-500;
  }

  .btn-ghost {
    @apply btn text-warm-600 hover:bg-warm-100 focus-visible:ring-warm-400;
  }

  .btn-icon {
    @apply btn p-2.5 aspect-square;
  }

  /* Form inputs */
  .form-input {
    @apply w-full px-4 py-2.5 rounded-xl border border-warm-200 bg-white text-warm-800 placeholder-warm-400 focus:outline-none focus:ring-2 focus:ring-primary-300 focus:border-primary-400 transition-colors;
  }

  .form-label {
    @apply block text-sm font-medium text-warm-700 mb-1.5;
  }

  .form-checkbox {
    @apply h-5 w-5 rounded border-warm-300 text-primary-600 focus:ring-primary-500 focus:ring-offset-0;
  }

  /* Page layout */
  .page-container {
    @apply max-w-4xl mx-auto px-4 py-6 md:px-6 md:py-8;
  }

  .page-header {
    @apply mb-6 md:mb-8;
  }

  .page-title {
    @apply text-2xl md:text-3xl font-bold text-warm-900;
  }

  .page-subtitle {
    @apply text-warm-600 mt-1;
  }

  /* Navigation */
  .nav-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-xl text-warm-600 font-medium transition-colors hover:bg-warm-100 hover:text-warm-800;
  }

  .nav-item-active {
    @apply bg-primary-50 text-primary-700 font-semibold;
  }

  /* Back link */
  .back-link {
    @apply inline-flex items-center gap-1.5 text-sm text-warm-500 hover:text-warm-700 transition-colors mb-4;
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply badge bg-primary-100 text-primary-700;
  }

  .badge-accent {
    @apply badge bg-accent-100 text-accent-700;
  }

  .badge-support {
    @apply badge bg-support-100 text-support-700;
  }

  /* Accordion */
  .accordion-trigger {
    @apply flex items-center justify-between w-full px-4 py-3 text-left font-medium text-warm-800 bg-warm-50 rounded-xl hover:bg-warm-100 transition-colors;
  }

  .accordion-content {
    @apply px-4 py-3;
  }

  /* Timeline */
  .timeline-node {
    @apply w-4 h-4 rounded-full border-2 border-primary-500 bg-white flex-shrink-0;
  }

  .timeline-node-active {
    @apply bg-primary-500;
  }

  .timeline-line {
    @apply w-0.5 bg-warm-200 flex-grow min-h-[2rem];
  }
}

/* Easy-read mode utilities */
@layer utilities {
  .easy-read {
    @apply text-easy-base leading-relaxed tracking-wide;
  }

  .easy-read h1 {
    @apply text-easy-3xl;
  }

  .easy-read h2 {
    @apply text-easy-2xl;
  }

  .easy-read h3 {
    @apply text-easy-xl;
  }

  .easy-read p,
  .easy-read li {
    @apply text-easy-base mb-4;
  }

  /* High contrast mode */
  .high-contrast {
    @apply bg-white text-black;
  }

  .high-contrast .card {
    @apply border-2 border-black;
  }

  .high-contrast .btn-primary {
    @apply bg-black text-white border-2 border-black;
  }

  /* Large text mode */
  .large-text {
    font-size: 125%;
  }
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }

  body {
    @apply bg-white text-black;
  }

  .card {
    @apply shadow-none border border-gray-300;
    break-inside: avoid;
  }

  .page-container {
    @apply max-w-none px-0;
  }
}

/* Safe area insets for notched devices */
@supports (padding: max(0px)) {
  .safe-bottom {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }

  .safe-top {
    padding-top: max(0px, env(safe-area-inset-top));
  }
}
